# Server Uploads Folder

This folder contains user-uploaded images and media files.

## Purpose

- **Default/Sample Images**: Committed to git as starter content
- **Runtime Uploads**: Generated by users when they upload files (ignored by git with `*.uploaded` pattern)

## How It Works

### Initial Setup (New Developers)
1. These default images are pulled from git when you clone the repo
2. They serve as sample data for development
3. They're used in the backup/restore system

### Runtime Behavior
1. When users upload files through the admin panel, they're saved here
2. Files uploaded at runtime can be marked with `.uploaded` extension to be git-ignored
3. Or use the backup system to manage user uploads separately

## Docker Volumes

In Docker, this folder is mounted as a volume:
```yaml
volumes:
  - uploads-data:/home/node/app/uploads
```

This means:
- ✅ Uploads persist across container restarts
- ✅ Uploads are stored separately from the container
- ✅ Easy to backup/restore using the backup system

## Backup System

Use the backup commands to manage uploads:

```bash
# Create backup of current uploads
docker exec banashree-server npm run backup:create

# Restore default uploads
docker exec banashree-server npm run backup:restore
```

See [IMAGE-BACKUP-GUIDE.md](../../IMAGE-BACKUP-GUIDE.md) for details.

## Git Ignore Rules

Current `.gitignore` settings:
```
# Keeps default images (committed)
# Ignores files with .uploaded extension
*.uploaded
```

## Best Practices

1. **Default Images**: Keep minimal set of sample images in git
2. **User Uploads**: Use backup system for production user uploads
3. **Development**: Restore sample data with `npm run backup:restore`
4. **Production**: Regular backups to preserve user uploads
